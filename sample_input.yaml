---
title: SampleTitle-Loki
service: SampleService-Loki
grafana_folder: SampleFolder
alert_config:
  notification_channels: ["service-opsgenie"]
  tags:
    key: value
description: Logging tool for everything deployed on kubernetes
references:
  deployment: https://github.com/grofers/legend/tree/master/helm-chart/legend/Readme.md
  documentation: https://github.com/grofers/legend/tree/master/docs
  metrics_definition: https://github.com/grofers/legend
tags:
  - stage
  - infra
graphTooltip: 1
components:
  airflow:
    dimensions:
      - cluster: sample-cluster
        namespace: sample-namespace
        dag_id: samepl-dag-id
  loki:
    dimensions:
      - labels:
          namespace: sample-namespace ## mandatory field
          app: sample-app
          tier: presentation
      - labels:
          namespace: sample-namespace-2 ## mandatory field
          app: sample-app-2
          tier: data
          region: sample-region
        filters:
          - "err"
          - "500"
        panel_name: sample-panel ## mandatory field because "filters" key is present here, otherwise no need to specify
        ## "Custom Log Panel - <panel_name>" will be the name of the custom log panel generated on the basis of the above provided "filters"
    panels: # Custom panel spec
    - title: "Custom Log Panel - sample-panel"
      alert_config:
        priority: P3
        message: 'Random message'
        rule:
          for_duration: 15m
          evaluate_every: 1m
        condition_query:
        - OR,avg,1,now,20m,gt,0
      
